

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Soil ‚Äì Quiz</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-50 text-gray-800">

<!-- Header -->
<header class="bg-gradient-to-br from-blue-600 via-purple-600 to-blue-800 text-white py-6 px-4 text-center shadow-lg">
<div class="max-w-4xl mx-auto">
<h1 class="text-3xl font-bold mb-2">Time for test: Take Exams</h1>
<p class="text-blue-100">Assessing your learning</p>
</div>
</header>

<!-- Side Menu -->
<aside class="fixed right-0 w-48 bg-gray-800 text-white transform translate-x-full md:translate-x-0 transition-transform z-40">
<nav class="p-4 space-y-2">
<a href="./soil.html" class="block px-3 py-2 rounded hover:bg-gray-700">Back Now</a>
</nav>
</aside>

<!-- Toggle -->
<button onclick="document.querySelector('aside').classList.toggle('translate-x-full')"
class="fixed top-4 right-4 z-50 bg-gray-600 text-white px-4 py-2 rounded md:hidden">
Menu
</button>

<!-- Exam Image -->
<div class="flex justify-center items-center my-6">
<img src="../img/exam.jpg"
class="w-full sm:w-5/6 md:w-2/3 h-auto max-h-80 rounded-lg shadow-md">
</div>

<main class="max-w-4xl mx-auto px-4 py-8">

<div class="bg-white rounded-lg shadow-lg p-6 mb-6">

<h2 class="text-2xl font-bold text-purple-600 mb-4">üìù Soil ‚Äì Quiz</h2>
<p class="text-gray-600 mb-6">Answer all questions and submit your answers below.</p>

<form id="quizForm">

<!-- Q1 -->
<div class="mb-6 p-4 bg-gray-50 rounded-lg">
<p class="font-semibold mb-3">1. What is soil mainly used for?</p>
<label class="block"><input type="radio" name="q1" value="a"> a) Building clouds</label>
<label class="block"><input type="radio" name="q1" value="b"> b) Growing crops</label>
<label class="block"><input type="radio" name="q1" value="c"> c) Making air</label>
<label class="block"><input type="radio" name="q1" value="d"> d) Producing fuel</label>
</div>

<!-- Q2 -->
<div class="mb-6 p-4 bg-gray-50 rounded-lg">
<p class="font-semibold mb-3">2. Which of the following is NOT a component of soil?</p>
<label class="block"><input type="radio" name="q2" value="a"> a) Air</label>
<label class="block"><input type="radio" name="q2" value="b"> b) Water</label>
<label class="block"><input type="radio" name="q2" value="c"> c) Plastic</label>
<label class="block"><input type="radio" name="q2" value="d"> d) Organic matter</label>
</div>

<!-- Q3 -->
<div class="mb-6 p-4 bg-gray-50 rounded-lg">
<p class="font-semibold mb-3">3. The topmost layer of the soil profile is called:</p>
<label class="block"><input type="radio" name="q3" value="a"> a) Subsoil</label>
<label class="block"><input type="radio" name="q3" value="b"> b) Bedrock</label>
<label class="block"><input type="radio" name="q3" value="c"> c) Topsoil</label>
<label class="block"><input type="radio" name="q3" value="d"> d) Weathered rock</label>
</div>

<!-- Q4 -->
<div class="mb-6 p-4 bg-gray-50 rounded-lg">
<p class="font-semibold mb-3">4. Which layer contains most plant roots?</p>
<label class="block"><input type="radio" name="q4" value="a"> a) A Horizon (Topsoil)</label>
<label class="block"><input type="radio" name="q4" value="b"> b) B Horizon (Subsoil)</label>
<label class="block"><input type="radio" name="q4" value="c"> c) C Horizon</label>
<label class="block"><input type="radio" name="q4" value="d"> d) R Horizon</label>
</div>

<!-- Q5 -->
<div class="mb-6 p-4 bg-gray-50 rounded-lg">
<p class="font-semibold mb-3">5. What makes topsoil dark in color?</p>
<label class="block"><input type="radio" name="q5" value="a"> a) Stones</label>
<label class="block"><input type="radio" name="q5" value="b"> b) Humus</label>
<label class="block"><input type="radio" name="q5" value="c"> c) Water</label>
<label class="block"><input type="radio" name="q5" value="d"> d) Air</label>
</div>

<!-- Q6 -->
<div class="mb-6 p-4 bg-gray-50 rounded-lg">
<p class="font-semibold mb-3">6. Deep fertile topsoil leads to:</p>
<label class="block"><input type="radio" name="q6" value="a"> a) poor crop yield</label>
<label class="block"><input type="radio" name="q6" value="b"> b) high crop production</label>
<label class="block"><input type="radio" name="q6" value="c"> c) no plant growth</label>
<label class="block"><input type="radio" name="q6" value="d"> d) shallow roots</label>
</div>

<div class="text-center mt-8">
<button type="button" onclick="gradeQuiz()"
class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-8 rounded-lg shadow-lg">
Submit Quiz
</button>
</div>

</form>

<div id="results" class="mt-8 p-6 rounded-lg hidden"></div>
</div>
</main>

<script>
const answers = {
  q1:'b',
  q2:'c',
  q3:'c',
  q4:'a',
  q5:'b',
  q6:'b'
};

const explanations = {
  q1:'Soil supports plant growth for crops.',
  q2:'Plastic is not a natural component of soil.',
  q3:'Topsoil is the upper fertile layer.',
  q4:'Most roots grow in the A horizon (topsoil).',
  q5:'Humus gives topsoil its dark colour.',
  q6:'Deep fertile topsoil increases crop yields.'
};

function gradeQuiz() {
  let score = 0;
  let total = Object.keys(answers).length;
  let unanswered = [];
  let wrongDetails = [];

  // check each question
  for (let q in answers) {
    const selected = document.querySelector(`input[name="${q}"]:checked`);

    if (!selected) {
      unanswered.push(q.toUpperCase());
      continue;
    }

    // disable all options after submission
    document.querySelectorAll(`input[name="${q}"]`).forEach(opt => opt.disabled = true);

    if (selected.value === answers[q]) {
      score++;
      selected.parentElement.classList.add("text-green-700", "font-semibold");
    } else {
      selected.parentElement.classList.add("text-red-700", "font-semibold");

      wrongDetails.push({
        question: q.toUpperCase(),
        chosen: selected.parentElement.textContent.trim(),
        correct: answers[q],
        explanation: explanations[q]
      });
    }
  }

  const percent = ((score / total) * 100).toFixed(1);

  let grade;
  if (percent >= 90) grade = "A ‚Äî Excellent";
  else if (percent >= 80) grade = "B ‚Äî Very Good";
  else if (percent >= 70) grade = "C ‚Äî Good";
  else if (percent >= 60) grade = "D ‚Äî Fair";
  else grade = "F ‚Äî Needs More Practice";

  const results = document.getElementById("results");
  results.classList.remove("hidden");

  let html = `
    <div class="border-l-4 p-4 bg-gray-50">
      <h3 class="text-2xl font-bold mb-2">Your Results</h3>
      <p class="text-xl mb-1">Score: ${score}/${total} (${percent}%)</p>
      <p class="text-xl font-semibold mb-3">Grade: ${grade}</p>
  `;

  if (unanswered.length > 0) {
    html += `<p class="text-red-600 font-semibold">Unanswered: ${unanswered.join(", ")}</p>`;
  }

  if (wrongDetails.length > 0) {
    html += `<div class="mt-4 bg-white p-4 rounded">
      <p class="font-semibold mb-2">Incorrect Answers Review</p>`;

    wrongDetails.forEach(w => {
      html += `
        <div class="mb-3">
          <p class="font-semibold text-red-600">${w.question}</p>
          <p class="text-sm">Your choice: ${w.chosen}</p>
          <p class="text-sm text-green-700">Correct option: ${w.correct}</p>
          <p class="text-xs text-gray-600">${w.explanation}</p>
        </div>
      `;
    });

    html += `</div>`;
  }

  html += `
    <button onclick="location.reload()"
      class="mt-4 bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-6 rounded">
      Retake Quiz
    </button>
    </div>
  `;

  results.innerHTML = html;
  results.scrollIntoView({ behavior: "smooth" });
}
</script>

</body>
</html>
